---
categories:
    - golang
date: 2023-11-24T10:25:42Z
description: Let's investigate why go build/test are so slow on Windows.
keywords:
    - golang
    - go
    - windows
    - build
    - test
    - build slow
    - test slow
lastmod: 2023-11-24T10:25:42Z
tags:
    - golang
    - go
    - windows
    - build
    - test
title: Why go build/test is so slow on Windows
---



<style>
r { color: Red }
o { color: Orange }
g { color: Lime }
aquamarine { color: aquamarine }
pp { color: Violet }
aqua { color: aqua }
</style>

# Why `go build` or `go test` is <o>so slow</o> on Windows

## Problem

When you run `go build` or `go test` on Windows, it is very slow.

If `go build` costs <g>10s</g> on Linux, it may cost <r>70s or more</r> on Windows, which is so annoying.

## Reason

The reason is that Windows Defender scans the files generated by `go build` or `go test` in real time, which causes the slow.

## Solution

Exclude the files used by `go`:

- `%userprofile%\go\`
- `%localappdata%\go-build\`
- `<YOUR GO CODE DIR>`, e.g. `%userprofile%\JetBrains\`

1. Open Windows Defender Security Center
2. Click "<pp>Virus & threat protection</pp>"
3. Click "<pp>Virus & threat protection settings</pp>"
4. Click "<pp>Add or remove exclusions</pp>"
5. Click "<pp>Add an exclusion</pp>"
6. Click "<pp>Folder</pp>"
7. Select the above folders one by one

## BTW

Maybe you can also exclude the process `go.exe` in "<pp>Exclusions</pp>" page, but I haven't tried it.
